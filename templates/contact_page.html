{% extends "base.html" %}

{% block content %}

<!-- Hero Section -->
<section class="relative min-h-[40vh] flex items-center justify-center overflow-hidden bg-gradient-to-br from-gray-50 to-slate-100 pt-32 pb-10">
    <div class="absolute inset-0 z-0">
        <div class="absolute top-20 left-10 w-64 h-64 bg-[#30a192]/10 rounded-full blur-3xl animate-pulse"></div>
        <div class="absolute bottom-20 right-10 w-96 h-96 bg-[#1d5865]/10 rounded-full blur-3xl animate-pulse" style="animation-duration: 4s;"></div>
    </div>
    <div class="container mx-auto px-6 relative z-10 text-center reveal">
        <h1 class="text-4xl md:text-6xl font-bold text-[#1d5865] mb-4 tracking-tight">
            Contactez-nous
        </h1>
        <div class="w-24 h-1 bg-[#30a192] mx-auto mb-6"></div>
        <p class="text-xl text-[#064060]/80 font-light max-w-2xl mx-auto">
            Une question ? Un projet ? N'hésitez pas à nous écrire.
        </p>
    </div>
</section>

<!-- Contact Section -->
<section class="py-20 bg-white">
    <div class="container mx-auto px-6">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">

            <!-- Right Column in Design (Form), but First in HTML for Mobile ordering (Map below Form) -->
            <div class="bg-slate-50 p-8 rounded-3xl border border-slate-100 shadow-sm order-1 lg:order-2 reveal">
                <h2 class="text-2xl font-bold text-[#1d5865] mb-6">Envoyez-nous un message</h2>
                <form action="{{ url_for('forms.contact_us_submit') }}" method="POST" class="space-y-6">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                    <input type="text" name="website_url_check" class="hidden" style="display:none;" autocomplete="off">
                    <div>
                        <label for="name" class="block text-sm font-medium text-[#064060]/90 mb-2">Nom complet</label>
                        <input type="text" id="name" name="name" required
                               class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#076D6D] focus:ring focus:ring-[#076D6D]/20 transition-colors bg-white/50 backdrop-blur-sm">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-[#064060]/90 mb-2">Adresse Email</label>
                        <input type="email" id="email" name="email" required
                               class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#076D6D] focus:ring focus:ring-[#076D6D]/20 transition-colors bg-white/50 backdrop-blur-sm">
                    </div>
                    <div>
                        <label for="subject" class="block text-sm font-medium text-[#064060]/90 mb-2">Sujet</label>
                        <select id="subject" name="subject" required
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#076D6D] focus:ring focus:ring-[#076D6D]/20 transition-colors bg-white/50 backdrop-blur-sm">
                            <option value="" disabled selected>Choisir un sujet...</option>
                            <option value="Renseignement général">Renseignement général</option>
                            <option value="Demande de partenariat">Demande de partenariat</option>
                            <option value="Relation Presse / Médias">Relation Presse / Médias</option>
                            <option value="Opportunité d'investissement">Opportunité d'investissement</option>
                            <option value="Opportunité d'emploi">Opportunité d'emploi</option>
                            <option value="Stage">Stage</option>
                            <option value="Candidature Spontanée">Candidature Spontanée</option>
                            <option value="Support Technique">Support Technique</option>
                            <option value="Autre">Autre</option>
                        </select>
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-[#064060]/90 mb-2">Message</label>
                        <textarea id="message" name="message" rows="5" required
                                  class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#076D6D] focus:ring focus:ring-[#076D6D]/20 transition-colors bg-white/50 backdrop-blur-sm"></textarea>
                    </div>
                    <div class="flex justify-center pt-2">
                        <button type="submit"
                                class="inline-flex items-center justify-center px-8 py-3.5 rounded-xl bg-[#076D6D] text-white font-bold text-sm hover:bg-[#055050] hover:-translate-y-1 transition-all duration-300 shadow-lg shadow-[#076D6D]/25 group w-fit">
                            Envoyer le message
                        </button>
                    </div>
                </form>
            </div>

            <!-- Left Column in Design (Info), but Second in HTML for Mobile ordering -->
            <div class="space-y-8 order-2 lg:order-1 reveal delay-100">
                <!-- Info Cards -->
                <div class="bg-[#1d5865] text-white p-8 rounded-3xl shadow-lg relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-[#30a192] rounded-full blur-3xl opacity-20 -mr-10 -mt-10"></div>
                    <h3 class="text-xl font-bold mb-6 border-b border-white/20 pb-4">Coordonnées</h3>
                    <ul class="space-y-6">
                        <li class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center shrink-0">
                                <span class="material-symbols-outlined text-[#30a192]">location_on</span>
                            </div>
                            <div>
                                <span class="block text-xs text-[#064060]/50 uppercase tracking-wider mb-1">Adresse</span>
                                <span class="font-medium">{{ site_settings.address if site_settings else "Centre d'affaires Gueliz, Bd My Rachid, Étage 1, Bureau 8, 40000 Marrakech" }}</span>
                            </div>
                        </li>
                        <li class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center shrink-0">
                                <span class="material-symbols-outlined text-[#30a192]">call</span>
                            </div>
                            <div>
                                <span class="block text-xs text-[#064060]/50 uppercase tracking-wider mb-1">Téléphone</span>
                                <span class="font-medium">{{ site_settings.phone if site_settings else "+212 699 14 00 01" }}</span>
                            </div>
                        </li>
                        <li class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center shrink-0">
                                <span class="material-symbols-outlined text-[#30a192]">mail</span>
                            </div>
                            <div>
                                <span class="block text-xs text-[#064060]/50 uppercase tracking-wider mb-1">Email</span>
                                <a href="mailto:{{ site_settings.contact_email if site_settings else 'nticshabaka@gmail.com' }}" class="font-medium hover:text-[#30a192] transition-colors">
                                    {{ site_settings.contact_email if site_settings else 'nticshabaka@gmail.com' }}
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Google Map -->
                <div class="h-80 w-full rounded-3xl overflow-hidden shadow-sm border border-slate-100 relative bg-slate-100">
                    <iframe
                        src="https://maps.google.com/maps?q={{ site_settings.map_latitude|default('31.6295') }},{{ site_settings.map_longitude|default('-8.0063') }}&z=15&output=embed"
                        width="100%"
                        height="100%"
                        style="border:0;"
                        allowfullscreen=""
                        loading="lazy">
                    </iframe>
                </div>
            </div>

        </div>
    </div>
</section>

{% endblock %}
