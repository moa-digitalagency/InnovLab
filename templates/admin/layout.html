<!DOCTYPE html>
<html lang="fr" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Shabaka InnovLab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1" rel="stylesheet" />
    <link rel="icon" type="image/png" href="{{ url_for('static', filename=site_settings.favicon) if site_settings and site_settings.favicon else url_for('static', filename='img/favicon.ico') }}">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            900: '#0f172a',
                            800: '#1e293b',
                            700: '#334155',
                        },
                        primary: '#076D6D',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-900 text-gray-100 flex h-screen overflow-hidden">

    <!-- Sidebar -->
    <aside class="w-64 bg-gray-800 border-r border-gray-700 flex flex-col transition-all duration-300">
        <div class="h-20 flex items-center justify-center border-b border-gray-700">
            <h1 class="text-xl font-bold tracking-wider text-primary">SHABAKA<span class="text-white font-light">ADMIN</span></h1>
        </div>

        <nav class="flex-1 overflow-y-auto py-4">
            <ul class="space-y-2 px-4">
                <li>
                    <a href="{{ url_for('admin.dashboard') }}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-blue-100/80 hover:bg-gray-700 hover:text-white transition-colors {{ 'bg-gray-700 text-white' if request.endpoint == 'admin.dashboard' else '' }}">
                        <span class="material-symbols-outlined">dashboard</span>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.analytics') }}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-blue-100/80 hover:bg-gray-700 hover:text-white transition-colors {{ 'bg-gray-700 text-white' if request.endpoint == 'admin.analytics' else '' }}">
                        <span class="material-symbols-outlined">show_chart</span>
                        <span>Analytics</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.security') }}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-blue-100/80 hover:bg-gray-700 hover:text-white transition-colors {{ 'bg-gray-700 text-white' if request.endpoint == 'admin.security' else '' }}">
                        <span class="material-symbols-outlined">security</span>
                        <span>Sécurité</span>
                    </a>
                </li>
                <li class="pt-4 pb-2 text-xs font-semibold text-blue-100/60 uppercase tracking-wider px-4">Gestion</li>
                <li>
                    <a href="{{ url_for('admin.founders') }}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-blue-100/80 hover:bg-gray-700 hover:text-white transition-colors {{ 'bg-gray-700 text-white' if request.endpoint == 'admin.founders' else '' }}">
                        <span class="material-symbols-outlined">person</span>
                        <span>Fondateurs</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.startups') }}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-blue-100/80 hover:bg-gray-700 hover:text-white transition-colors {{ 'bg-gray-700 text-white' if request.endpoint == 'admin.startups' else '' }}">
                        <span class="material-symbols-outlined">rocket_launch</span>
                        <span>Startups</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.investors') }}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-blue-100/80 hover:bg-gray-700 hover:text-white transition-colors {{ 'bg-gray-700 text-white' if request.endpoint == 'admin.investors' else '' }}">
                        <span class="material-symbols-outlined">payments</span>
                        <span>Investisseurs</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('testimonials_admin.index') }}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-blue-100/80 hover:bg-gray-700 hover:text-white transition-colors {{ 'bg-gray-700 text-white' if request.endpoint == 'testimonials_admin.index' else '' }}">
                        <span class="material-symbols-outlined">reviews</span>
                        <span>Témoignages</span>
                    </a>
                </li>
                <li class="pt-4 pb-2 text-xs font-semibold text-blue-100/60 uppercase tracking-wider px-4">Configuration</li>
                <li>
                    <a href="{{ url_for('settings.settings') }}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-blue-100/80 hover:bg-gray-700 hover:text-white transition-colors {{ 'bg-gray-700 text-white' if request.endpoint == 'settings.settings' else '' }}">
                        <span class="material-symbols-outlined">settings</span>
                        <span>Paramètres</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('settings.seo') }}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-blue-100/80 hover:bg-gray-700 hover:text-white transition-colors {{ 'bg-gray-700 text-white' if request.endpoint == 'settings.seo' else '' }}">
                        <span class="material-symbols-outlined">search</span>
                        <span>SEO Avancé</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('portfolio.portfolio') }}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-blue-100/80 hover:bg-gray-700 hover:text-white transition-colors {{ 'bg-gray-700 text-white' if request.endpoint == 'portfolio.portfolio' else '' }}">
                        <span class="material-symbols-outlined">image</span>
                        <span>Portfolio</span>
                    </a>
                </li>
            </ul>
        </nav>

        <div class="p-4 border-t border-gray-700">
            <a href="{{ url_for('auth.logout') }}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-red-400 hover:bg-red-900/20 hover:text-red-300 transition-colors">
                <span class="material-symbols-outlined">logout</span>
                <span>Déconnexion</span>
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto bg-gray-900 p-8">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <div class="mb-6 space-y-2">
              {% for category, message in messages %}
                <div class="p-4 rounded-lg flex items-center gap-3 {{ 'bg-green-900/50 text-green-200 border border-green-800' if category == 'success' else 'bg-red-900/50 text-red-200 border border-red-800' }}">
                  <span class="material-symbols-outlined">{{ 'check_circle' if category == 'success' else 'error' }}</span>
                  <span>{{ message }}</span>
                </div>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </main>

</body>
</html>
